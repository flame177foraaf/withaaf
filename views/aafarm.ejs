<!DOCTYPE html>
<html><meta charset="utf-8">
  <head>

    <%- include ('head') %>
    <title><%= title%></title>
    <link rel='stylesheet' href='/stylesheets/style.css' />
    <style media="screen">
    </style>
    <script type="text/javascript">

    </script>
  </head>
  <body style="">
    <div class="title_div" >
      <h1><%= title %></h1>
    </div>
    <div class="" id="seach_form_id" >
      <form action="/aafarm/1" method="get">
        <input type="text" placeholder="모든 항목" name="searchText" style="width:200px">
        <select name="searchType">
            <option value="name">이름</option>
            <option value="property">업그레이드</option>

            <option value="feat">피트</option>
            <option value="custom">커스텀</option>
        </select>
        <input action="/aafarm/1" type="submit" class="btn" value="찾기" ></button>
      </form>
    </div>
    <div class="">
      <table id="eqtable" style="width:100%;">
        <colgroup>
          <col width="100">
          <col width="200">
          <col width="50">
          <col width="50">

          <col width="100">
          <col width="200">
          <col width="350">
          <col width="300">
          <col width="600">
        </colgroup>
        <thead>
          <tr>
            <th>등급</th>
            <th>이름</th>
            <th>제한</th>
            <th>소켓</th>
            <th>에테르</th>
            <th>방어력</th>
            <th>속성 방어</th>
            <th>피트</th>
            <th>커스텀</th>
          </tr>
        </thead>

        <%# tbody에 잇는 스타일은 '\n ' 줄바꿈을 표현함 %>
        <tbody>
          <% if(typeof(CurrentPage) === 'undefined'){ %>
            <tr>
              <td colspan="9"; style= "text-align:center;"> 검색이 필요합니다.</td>
            </tr>
          <% } else { %>
            <% data.forEach(function(item) { %>
              <tr  style="white-space: pre-line; font-size:12px;">
                <td><%- item.armgrade %></td>
                <td><%- item.armname %></td>
                <td style='text-align: center'><%- item.armlimit %></td>
                <td style='text-align: center'><%- item.armsocket %></td>
                <td style='text-align: center'><%- item.armether %></td>
                <td style='text-align: center'><%- item.armstats %></td>
                <td style='text-align: center'><%- item.armproperty %></td>
                <td><%- item.armfeat %></td>
                <td><%- item.armcustom %></td>
              </tr>
            <% }); %>
          <% } %>
          <div class="" id="PageUl">
            <% if(typeof(CurrentPage) === 'undefined'){ %>
              <tr>
                <div class="" id="pagelist" >
                  <td colspan="9" style= "text-align:center; font-size:24px">
                    검색이 필요합니다.
                  </td>
                </div>
              </tr>

            <% } else { %>
              <tr>
                <div class="" id="pagelist">
                  <td colspan="9" style= "text-align:center; font-size:24px">
                    <% if (CurrentPage > PageSize){ %>
                      <% Search= Search.replace(/&/g,"%26").replace(/\+/g,"%2B"); %>

                      <a href="/aafarm/1?searchText=<%-Search %>&searchType=<%- SearchType %>&limit=<%- SearchLimit %>"> ◀◀ </a>
                      <a href="/aafarm/<%- StartPage-1 %>?searchText=<%- Search %>&searchType=<%- SearchType %>&limit=<%- SearchLimit %>"> ◀ </a>
                    <% } %>
                    <% for (var iCount = StartPage; iCount <= EndPage; iCount++ ){ %>
                      <% if (iCount == CurrentPage) { %>
                        <b class="btnnonactive"><%- iCount %></b>
                      <% } else { %>
                        <% Search= Search.replace(/&/g,"%26").replace(/\+/g,"%2B"); %>

                        <a href="/aafarm/<%- iCount %>?searchText=<%- Search %>&searchType=<%- SearchType %>&limit=<%- SearchLimit %>" class="btnactive"><%- iCount %></a>
                      <% } %>
                    <% } %>
                    <% if (EndPage < TotalPage){ %>
                      <% Search= Search.replace(/&/g,"%26").replace(/\+/g,"%2B"); %>

                      <a href="/aafarm/<%- EndPage+1 %>?searchText=<%- Search %>&searchType=<%- SearchType %>&limit=<%- SearchLimit %>">  ▶ </a>
                      <a href="/aafarm/<%- TotalPage %>?searchText=<%- Search %>&searchType=<%- SearchType %>&limit=<%- SearchLimit %>"> ▶▶ </a>
                    <% } %>
                  </td>
                </div>
              </tr>
            <% } %>
          </div>
        </tbody>
      </table>
    </div>

    <% if(typeof(data[0]) === 'undefined'){ %>
    <div class="" style="text-align: center">
      <div class="">
        <form class="" action="/addarm" method="get">
          <button onclick=location.href="/aafarm/addarm" type="button" name="button" style="width:200px">신규등록</a></button>
        </form>
      </div>
    </div>
    <% } else { %>
    <div class="" style="text-align: center">
      <div class="">
        <form class="" action="/addarm" method="get">
          <button onclick=location.href="/aafarm/addarm" type="button" name="button" style="width:200px">신규등록</a></button>
        </form>
      </div>

      <form class="" name="add" action="/aafarm/fixarm" method="get"  onsubmit="return checkonclick()">
        <input type=text list=browsers style="" checked value="<%= data[0].armname %>" name="Seachname">
        <%# 밸류값을 %=title 과 같이 해주면 받아오는 title 값에 따라 value 값이 달라지게 된다. %>
          <datalist id="browsers" name="datalistname" class="" style="width:50%">
            <% data.forEach(function(item) { %>
            <option value='<%= item.armname%>' style=""><%- item.armname%></option>
            <% }); %>
          </datalist>
        <input action="/aafarm/fixarm" type="submit" class="btn" value="변경하기" ></button>
      </form>
      <form class="" name="" action="/Assemblyarm" method="get"  onsubmit="return checkonclick()">
        <input type=text list=browsers style="" checked value="<%= data[0].armname %>" name="assembly">
        <%# 밸류값을 %=title 과 같이 해주면 받아오는 title 값에 따라 value 값이 달라지게 된다. %>
          <datalist id="browsers" name="datalistname" class="" style="width:50%">
            <% data.forEach(function(item) { %>
            <option value='<%= item.armname%>' style=""><%- item.armname%></option>
            <% }); %>
          </datalist>
        <input action="/" type="submit" class="btn" value="재조립하기" ></button>
      </form>
    </div>
    <% } %>



  </body>
  <footer>
    <%- include ('footer')%>
  </footer>

</html>
