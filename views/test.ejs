<!DOCTYPE html>
<html>
  <head>
    <%- include ('head') %>
    <title><%= title%></title>
    <link rel='stylesheet' href='/stylesheets/style.css' />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.9/js/select2.min.js"></script>

    <style media="screen">
    </style>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.9/css/select2.min.css" rel="stylesheet" />


    <script type="text/javascript">
      $('select').select2(data);
    </script>
  </head>
  <body style="">
    <h1><%= title %></h1>
    <form action="/test/1" method="get">
      <input type="text" placeholder="찾기 버튼을 누르세요" name="searchText">
      <select name="searchType">
          <option value="name">이름</option>
          <option value="property">속성</option>
          <option value="feat">피트</option>
          <option value="custom">커스텀</option>
      </select>
      <input type="checkbox" name="limit" value="300" checked id="chbox"> <label for="chbox" style=""></label>300레벨 이상
      <input action="/test/1" type="submit" class="btn" value="찾기" ></button>
      <button onclick=location.href="/test/wpadd" type="button" name="button" >등록하기</a></button>
      <button onclick=location.href="/test/wpadd" type="button" name="button" >등록하기</a></button>


    </form>
    <div class="">
      <%# 밸류값을 %=title 과 같이 해주면 받아오는 title 값에 따라 value 값이 달라지게 된다. %>
      <form name="form_id" class="" action="/test/fixwp" method="post">

          <select class="form-control" name="">

            <option value='<%- data.forEach.wpid %>'><%- data.forEach.wpname%></option>

          </select>

        <input action="/test/fixwp" type="submit" class="btn" value="변경하기" ></button>


      </form>

    </div>
    <table id="eqtable" style="width:1200px;">
      <colgroup>
        <col width="100">
        <col width="200">
        <col width="50">
        <col width="50">
        <col width="100">
        <col width="200">
        <col width="350">
        <col width="300">
        <col width="650">
      </colgroup>
      <thead>
        <tr  style='text-align: center'>
          <th>등급</th>
          <th>이름</th>
          <th>제한</th>
          <th>소켓</th>
          <th>에테르</th>
          <th>성능</th>
          <th>속성</th>
          <th>피트</th>
          <th>커스텀</th>
        </tr>
      </thead>
      <%# tbody에 잇는 스타일은 '\n ' 줄바꿈을 표현함 %>
      <tbody>
        <% if(typeof(CurrentPage) === 'undefined'){ %>
          <tr>
            <td colspan="9"; style= "text-align:center;"> 검색이 필요합니다.</td>
          </tr>
        <% } else { %>
          <% data.forEach(function(item) { %>
          <tr  style="white-space: pre-line; font-size:12px;">
            <td><%- item.wpgrade %></td>
            <td><%- item.wpname %></td>
            <td style='text-align: center'><%- item.wplimit %></td>
            <td style='text-align: center'><%- item.wpsocket %></td>
            <td style='text-align: center'><%- item.wpether %></td>
            <td style='text-align: center'><%- item.wpstats %></td>
            <td><%- item.wpproperty %></td>
            <td><%- item.wpfeat %></td>
            <td><%- item.wpcustom %></td>
          </tr>
          <% }); %>
        <% } %>
      <div class="" id="pagelist">
        <% if(typeof(CurrentPage) === 'undefined'){ %>
          <tr>
            <div class="" id="pagelist" >
              <td colspan="9" style= "text-align:center; font-size:24px">
                검색이 필요합니다.
              </td>
            </div>
          </tr>
        <% } else { %>
          <tr>
            <div class="" id="pagelist">
              <td colspan="21" style= "text-align:center; font-size:24px">
                <% if (CurrentPage > PageSize){ %>
                  <a href="/test/1?searchText=<%-Search %>&searchType=<%- SearchType %>&limit=<%- SearchLimit %>"> ◀◀ </a>
                  <a href="/test/<%- StartPage-1 %>?searchText=<%- Search %>&searchType=<%- SearchType %>&limit=<%- SearchLimit %>"> ◀ </a>
                <% } %>
                <% for (var iCount = StartPage; iCount <= EndPage; iCount++ ){ %>
                  <% if (iCount == CurrentPage) { %>
                    <b class="btnnonactive"><%- iCount %></b>
                  <% } else { %>
                    <a href="/test/<%- iCount %>?searchText=<%- Search %>&searchType=<%- SearchType %>&limit=<%- SearchLimit %>" class="btnactive"><%- iCount %></a>
                  <% } %>
                <% } %>
                <% if (EndPage < TotalPage){ %>
                  <a href="/test/<%- EndPage+1 %>?searchText=<%- Search %>&searchType=<%- SearchType %>&limit=<%- SearchLimit %>">  ▶ </a>
                  <a href="/test/<%- TotalPage %>?searchText=<%- Search %>&searchType=<%- SearchType %>&limit=<%- SearchLimit %>"> ▶▶ </a>
                <% } %>
              </td>
            </div>
          </tr>
        <% } %>
      </div>
      </tbody>
    </table>
    <script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
    <!-- select2 javascript cdn -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.9/js/select2.min.js"></script>
    <script>
        $('select').select2(data);
      </script>
  </body>
  <footer>
    <%- include ('footer')%>
  </footer>
</html>
